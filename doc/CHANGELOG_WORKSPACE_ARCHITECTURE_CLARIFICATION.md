# Changelog: –£—Ç–æ—á–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –∫ Workspace

**–î–∞—Ç–∞:** 21 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è:** 0.3.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  

---

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –∫ workspace –≤ —Å–∏—Å—Ç–µ–º–µ CodeLab Core Service. –≠—Ç–æ **—á–∏—Å—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ**, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–≤–æ–¥–∏—Ç –Ω–µ—è–≤–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ —è–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞.**

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è

### 1. –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (–ù–û–í–û–ï)

**–ë—ã–ª–æ –Ω–µ—è–≤–Ω–æ:**
- –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, –∫—Ç–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç workspace
- –ù–µ—è—Å–Ω–æ, –∫–∞–∫ –∞–≥–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º
- –†–∞–∑–º—ã—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É client –∏ backend

**–¢–µ–ø–µ—Ä—å —è–≤–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë§ USER (Client Side)                                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –£–ø—Ä–∞–≤–ª—è–µ—Ç:                                                  ‚îÇ
‚îÇ ‚úì –§–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π workspace (–ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)     ‚îÇ
‚îÇ ‚úì –°–æ–∑–¥–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–æ–≤, —Ñ–∞–π–ª–æ–≤, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π                   ‚îÇ
‚îÇ ‚úì Client –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                    Backend API
                           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üñ•Ô∏è BACKEND (Server Side)                                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –£–ø—Ä–∞–≤–ª—è–µ—Ç:                                                  ‚îÇ
‚îÇ ‚úì User Worker Space (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, lifecycle)             ‚îÇ
‚îÇ ‚úì Agent Cache (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∞–≥–µ–Ω—Ç–æ–≤)          ‚îÇ
‚îÇ ‚úì Agent Bus (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤)            ‚îÇ
‚îÇ ‚úì Qdrant Collections (–∫–æ–Ω—Ç–µ–∫—Å—Ç RAG –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤)           ‚îÇ
‚îÇ ‚úì –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π —á–µ—Ä–µ–∑ middleware                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                       Tools API
                           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ü§ñ AGENTS (Server Side Execution)                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ü–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø –∫ workspace –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑:                  ‚îÇ
‚îÇ ‚úì tool_read_file(path, user_id)                           ‚îÇ
‚îÇ ‚úì tool_write_file(path, content, user_id)                 ‚îÇ
‚îÇ ‚úì tool_list_directory(path, user_id)                      ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ –ù–ï –º–æ–≥—É—Ç:                                                   ‚îÇ
‚îÇ ‚ùå –û–±—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ                  ‚îÇ
‚îÇ ‚ùå –£–ø—Ä–∞–≤–ª—è—Ç—å workspace                                      ‚îÇ
‚îÇ ‚ùå –û–±—Ö–æ–¥–∏—Ç—å tools                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. Per-Project Architecture (–£–¢–û–ß–ù–ï–ù–û)

**–ë—ã–ª–æ:**
- –ù–µ—è—Å–Ω–æ, —Å–æ–∑–¥–∞–µ—Ç—Å—è –ª–∏ Worker Space per-user –∏–ª–∏ per-project

**–¢–µ–ø–µ—Ä—å —è–≤–Ω–æ:**
- **User Worker Space —Å–æ–∑–¥–∞–µ—Ç—Å—è –î–õ–Ø –ö–ê–ñ–î–û–ì–û –ü–†–û–ï–ö–¢–ê** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ per-user)
- –ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Worker Space —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ backend —Ä–µ—Å—É—Ä—Å–∞–º–∏
- –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏

**–ü—Ä–∏–º–µ—Ä:**
```
User123 (–º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç–æ–≤):
‚îú‚îÄ‚îÄ Project A
‚îÇ   ‚îî‚îÄ‚îÄ Worker Space A (–æ—Ç–¥–µ–ª—å–Ω—ã–π agent_cache, Agent Bus, Qdrant collections)
‚îú‚îÄ‚îÄ Project B
‚îÇ   ‚îî‚îÄ‚îÄ Worker Space B (–æ—Ç–¥–µ–ª—å–Ω—ã–π agent_cache, Agent Bus, Qdrant collections)
‚îî‚îÄ‚îÄ Project C
    ‚îî‚îÄ‚îÄ Worker Space C (–æ—Ç–¥–µ–ª—å–Ω—ã–π agent_cache, Agent Bus, Qdrant collections)

User456 (–ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –æ—Ç User123):
‚îî‚îÄ‚îÄ Project D
    ‚îî‚îÄ‚îÄ Worker Space D (–Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º User123)
```

### 3. Default Starter Pack (–Ø–í–ù–û –ó–ê–î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–û)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:**
- 4 default –∞–≥–µ–Ω—Ç–∞: Architect, Orchestrator, CodeAssistant, DataAnalyst
- –í—Å–µ –∞–≥–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ Agent Bus
- –í—Å–µ Qdrant collections —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –°–∏—Å—Ç–µ–º–∞ "zero-to-use" - –ø—Ä–æ–µ–∫—Ç —Å—Ä–∞–∑—É –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ

### 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ—Ç–æ–∫ Workspace Access (–ù–û–í–û–ï)

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ —Ñ–∞–π–ª–∞:**

```
Agent                          Backend Tool          CLIENT           Validation
  ‚îÇ                                 ‚îÇ                   ‚îÇ                ‚îÇ
  ‚îÇ  "–ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª x"             ‚îÇ                   ‚îÇ                ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>Tool‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                   ‚îÇ                ‚îÇ
  ‚îÇ                                 ‚îÇ                   ‚îÇ                ‚îÇ
  ‚îÇ                                 ‚îÇ  –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å ‚îÇ                ‚îÇ
  ‚îÇ                                 ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>   ‚îÇ                ‚îÇ
  ‚îÇ                                 ‚îÇ                   ‚îÇ                ‚îÇ
  ‚îÇ                                 ‚îÇ              –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç—å    ‚îÇ
  ‚îÇ                                 ‚îÇ  <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ                                 ‚îÇ                   ‚îÇ   ‚úì OK        ‚îÇ
  ‚îÇ                                 ‚îÇ  –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é              ‚îÇ
  ‚îÇ                                 ‚îÇ  <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ                                 ‚îÇ                   ‚îÇ  —á–∏—Ç–∞—Ç—å FS    ‚îÇ
  ‚îÇ                                 ‚îÇ                   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>
  ‚îÇ                                 ‚îÇ –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚îÇ               ‚îÇ
  ‚îÇ                                 ‚îÇ  <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ               ‚îÇ
  ‚îÇ                                 ‚îÇ                   ‚îÇ               ‚îÇ
  ‚îÇ  –ü–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞     ‚îÇ                   ‚îÇ               ‚îÇ
  ‚îÇ <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                   ‚îÇ               ‚îÇ
  ‚îÇ                                 ‚îÇ                   ‚îÇ               ‚îÇ
```

### 5. –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ø–í–ù–û –û–ü–†–ï–î–ï–õ–ï–ù–´)

**–ß—Ç–æ –∞–≥–µ–Ω—Ç –ù–ï –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å:**

| –ü–æ–ø—ã—Ç–∫–∞ | –ó–∞—â–∏—Ç–∞ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|--------|-----------|
| –ü—Ä—è–º–æ–π `os.listdir()` | –ê–≥–µ–Ω—Ç –Ω–∞ backend –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π FS | ‚ùå Execution blocked |
| Path traversal `/../etc/passwd` | CLIENT –Ω–æ—Ä–º–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—É—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç boundaries | ‚ùå Error: "Path outside bounds" |
| –î–æ—Å—Ç—É–ø –∫ —á—É–∂–æ–º—É workspace | CLIENT –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç user_id –∏–∑ JWT | ‚ùå Error: "User not authorized" |
| –£–¥–∞–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π workspace | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç FS –Ω–∞ client —Å—Ç–æ—Ä–æ–Ω–µ | ‚ö†Ô∏è User controls outcome |
| –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Redis/Qdrant | –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Worker Space –º–µ—Ç–æ–¥—ã | ‚ùå No direct access |

### 6. Tool Signatures (–Ø–í–ù–û –ó–ê–î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–û)

**–í—Å–µ tools —è–≤–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—é—Ç workspace context:**

```python
# tool_read_file - –ø—Ä–∏–º–µ—Ä
async def tool_read_file(
    path: str,      # –ü—É—Ç—å –≤ workspace –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    user_id: int    # user_id –∏–∑ JWT –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
) -> dict[str, Any]

# –ü—Ä–æ—Ü–µ—Å—Å:
# 1. Backend tool –ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
# 2. Tool –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ CLIENT —Å path –∏ user_id
# 3. CLIENT –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø (user_id, path bounds)
# 4. CLIENT –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é —Å –ª–æ–∫–∞–ª—å–Ω–æ–π FS
# 5. CLIENT –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ backend
# 6. Tool –ø–µ—Ä–µ–¥–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–≥–µ–Ω—Ç—É
```

---

## üìÇ –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã

### –°–æ–∑–¥–∞–Ω—ã:

1. **`openspec/specs/user-worker-space/spec.md`** (NEW)
   - –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è User Worker Space —Å —É—Ç–æ—á–Ω–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
   - –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ delta spec
   - Tool signatures —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
   - –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - Per-project –∏ Default Starter Pack requirements
   - **–†–∞–∑–º–µ—Ä:** ~900 —Å—Ç—Ä–æ–∫

### –û–±–Ω–æ–≤–ª–µ–Ω—ã:

2. **`doc/rest-api.md`** (UPDATED)
   - –†–∞–∑–¥–µ–ª "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Workspace –∏ Backend —Ä–µ—Å—É—Ä—Å–æ–≤" —É–∂–µ –∞–∫—Ç—É–∞–ª–µ–Ω (–ª–∏–Ω–∏–∏ 34-51)
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç, –∫–∞–∫–∏–µ endpoints –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç Worker Space
   - –û–ø–∏—Å—ã–≤–∞–µ—Ç tool signatures –¥–ª—è workspace operations

3. **`openspec/changes/clarify-workspace-access/tasks.md`** (UPDATED)
   - –û—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ 15 –∏–∑ 18 –∑–∞–¥–∞—á

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —É—Ç–æ—á–Ω–µ–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è User Worker Space
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ—Ç–æ–∫ (ASCII –¥–∏–∞–≥—Ä–∞–º–º–∞)
- ‚úÖ Sequence diagram –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
- ‚úÖ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ tools, –≤–∞–ª–∏–¥–∞—Ü–∏—è, lifecycle)
- ‚úÖ Tool signatures —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ (tool_read_file, tool_write_file, tool_list_directory)
- ‚úÖ –ü–∞—Ç—Ç–µ—Ä–Ω –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ (CLIENT SIDE)
- ‚úÖ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ Per-Project Architecture requirement
- ‚úÖ Default Starter Pack requirement
- ‚úÖ 14 –æ—Å–Ω–æ–≤–Ω—ã—Ö Requirements —Å scenarios

### REST API Documentation
- ‚úÖ –†–∞–∑–¥–µ–ª –æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (User ‚Üî Backend ‚Üî Agents)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏—Ö Worker Space
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ tool signatures –∏ workspace context

---

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∫–æ–¥–∞

### User Worker Space (`app/core/user_worker_space.py`)
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è per-project (user_id + project_id)
- ‚úÖ –£–ø—Ä–∞–≤–ª—è–µ—Ç agent_cache, Agent Bus, Qdrant collections
- ‚úÖ Per-project –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### Tools Executor (`app/core/tools/executor.py`)
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å user_id, project_id, workspace_root
- ‚úÖ PathValidator –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—É—Ç–∏ –≤ workspace –≥—Ä–∞–Ω–∏—Ü–∞—Ö
- ‚úÖ RiskAssessor –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç parameters –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

### User Isolation Middleware (`app/middleware/user_isolation.py`)
- ‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ—Ç user_id –∏–∑ JWT —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç request.state.user_id –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏
- ‚úÖ –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### Default Starter Pack (`app/core/starter_pack.py`)
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã 4 default –∞–≥–µ–Ω—Ç–∞
- ‚úÖ –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –∏–º–µ–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–º–æ–¥–µ–ª—å, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É, —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç)
- ‚úÖ –í—Å–µ –∞–≥–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üöÄ –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∏—Å—Ç–µ–º—É

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** ‚ùå –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤—Å–µ —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞ –∏ –ø–æ–ª–Ω–∞
**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** ‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º:** ‚úÖ –¢–µ–ø–µ—Ä—å —è—Å–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ workspace

---

## üìå –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ tool:
1. –í—Å–µ–≥–¥–∞ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ `path` –∏ `user_id` –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `PathValidator` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—É—Ç–∏ (workspace boundaries)
3. –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ `user_id` –∏–∑ JWT —Ç–æ–∫–µ–Ω–∞ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏–µ–π
4. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–∞—ë—Ç–µ –∞–≥–µ–Ω—Ç–∞–º –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ

### –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ User Worker Space:
1. –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ —ç—Ç–æ per-project –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–Ω–µ per-user)
2. –í—Å–µ–≥–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ backend —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
3. –ü—Ä–∏ cleanup - —É–¥–∞–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ backend —Ä–µ—Å—É—Ä—Å—ã, –Ω–µ —Ñ–∞–π–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ middleware –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ frontend:
1. CLIENT —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π (–ª–æ–∫–∞–ª—å–Ω–æ)
2. CLIENT –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø—É—Ç–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ backend
3. CLIENT –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –æ—Ç backend
4. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤ workspace

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

–î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏–∑—É—á–∏—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:

1. **`openspec/specs/user-worker-space/spec.md`** - –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
2. **`doc/rest-api.md`** - REST API endpoints –∏ workspace context
3. **`app/core/user_worker_space.py`** - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è backend
4. **`app/core/tools/executor.py`** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ tools —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
5. **`app/middleware/user_isolation.py`** - –∏–∑–æ–ª—è—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üéâ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ

‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É—Ç–æ—á–Ω–µ–Ω–∞ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞**

–°–∏—Å—Ç–µ–º–∞ CodeLab Core Service —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç:
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (User ‚Üî Backend ‚Üî Agents)
- –Ø–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–æ—Å—Ç—É–ø–∞ –∫ workspace
- Per-project –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –ø–æ–ª–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–µ–π
- Default Starter Pack –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
- –Ø–≤–Ω—ã–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ—Ä—ã tool signatures –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

–ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–µ—Ç —Ç–µ–ø–µ—Ä—å —É–≤–µ—Ä–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–æ–π, –ø–æ–Ω–∏–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
